<!-- templates/admin_reports.html -->
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>LlaqtaShield — Administración de Reportes</title>

  <!-- CSS global -->
  <link rel="stylesheet" href="/static/css/styles.css">

  <style>
    :root {
      --verde1:#0C5F3A;
      --verde2:#1B8F57;
      --verde3:#35C27E;
      --text:#25332C;
      --glass-bg:rgba(255,255,255,0.82);
      --glass-border:rgba(255,255,255,0.45);
      --shadow:0 12px 38px rgba(0,0,0,0.15);
    }

    body{
      margin:0;
      font-family:"Inter",sans-serif;
      background:#eef2ef;
      color:var(--text);
    }

    /* ⭐ HEADER ULTRAPREMIUM */
    .small-header{
      position:sticky;
      top:0;
      z-index:20;
      background:var(--glass-bg);
      backdrop-filter:blur(18px);
      padding:22px 28px;
      border-bottom:1px solid var(--glass-border);
      box-shadow:0 12px 28px rgba(0,0,0,0.15);
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-radius:0 0 18px 18px;
      animation:dropIn 0.6s ease;
    }

    @keyframes dropIn{
      from{transform:translateY(-25px); opacity:0;}
      to{transform:translateY(0); opacity:1;}
    }

    .small-header .link{
      text-decoration:none;
      padding:10px 16px;
      background:linear-gradient(135deg,var(--verde1),var(--verde2));
      color:#fff;
      border-radius:12px;
      font-weight:700;
      transition:0.25s ease;
      box-shadow:0 6px 14px rgba(0,0,0,0.18);
    }

    .small-header .link:hover{
      filter:brightness(1.12);
      transform:translateY(-2px);
    }

    .small-header h1{
      margin:0;
      font-size:1.65rem;
      font-weight:800;
      color:var(--verde1);
      text-shadow:0 1px 2px rgba(0,0,0,0.1);
    }

    /* ⭐ CONTENEDOR */
    .container{
      max-width:1100px;
      margin:40px auto;
      padding:0 20px;
      animation:fadeUp 0.7s ease;
    }

    @keyframes fadeUp{
      from{opacity:0; transform:translateY(10px);}
      to{opacity:1; transform:translateY(0);}
    }

    /* ⭐ CARD GLASS PRO */
    .card{
      background:var(--glass-bg);
      backdrop-filter:blur(22px);
      padding:30px;
      border-radius:20px;
      border:1px solid var(--glass-border);
      box-shadow:var(--shadow);
    }

    h2{
      margin:0 0 22px 0;
      color:var(--verde1);
      font-weight:800;
      font-size:1.4rem;
      letter-spacing:-0.5px;
    }

    /* ⭐ TABLA PROFESIONAL */
    table{
      width:100%;
      border-collapse:collapse;
      border-radius:18px;
      overflow:hidden;
      box-shadow:0 10px 28px rgba(0,0,0,0.15);
      background:white;
    }

    thead{
      background:linear-gradient(135deg,var(--verde1),var(--verde2));
      color:white;
      font-size:0.95rem;
    }

    thead th{
      padding:16px 12px;
      font-weight:700;
      text-align:left;
    }

    tbody tr{
      background:rgba(255,255,255,0.9);
      transition:0.25s ease;
    }

    tbody tr:nth-child(even){
      background:rgba(245,245,245,0.9);
    }

    tbody tr:hover{
      background:rgba(27,143,87,0.10);
      transform:scale(1.002);
    }

    td{
      padding:14px 12px;
      font-size:0.93rem;
      border-bottom:1px solid rgba(0,0,0,0.05);
    }

    /* ⭐ BOTÓN "VER" */
    a.btn-view{
      font-weight:600;
      color:var(--verde1);
      text-decoration:none;
      padding:6px 12px;
      background:rgba(27,143,87,0.12);
      border-radius:8px;
      transition:0.22s ease;
    }

    a.btn-view:hover{
      background:rgba(27,143,87,0.22);
    }

    /* ⭐ RESPONSIVE */
    @media(max-width:760px){
      .small-header{
        flex-direction:column;
        align-items:flex-start;
        gap:12px;
      }

      .small-header h1{
        font-size:1.4rem;
      }

      table{
        font-size:0.83rem;
      }

      td,th{
        padding:12px 8px;
      }
    }
  </style>
</head>

<body>

<header class="small-header">
  <a href="/" class="link">&larr; Volver</a>
  <h1>Panel de Administración — Reportes</h1>
</header>

<main class="container">
  <div class="card">
    <h2>Últimos reportes registrados</h2>

    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Fecha</th>
          <th>Categoría</th>
          <th>Descripción</th>
          <th>Imagen</th>
        </tr>
      </thead>

      <tbody>
        {% for r in rows %}
        <tr>
          <td>{{ r.id }}</td>
          <td>{{ r.created_at }}</td>
          <td>{{ r.categoria }}</td>
          <td>{{ r.descripcion }}</td>
          <td>
            {% if r.imagen_path %}
              <a href="{{ r.imagen_path }}" target="_blank" class="btn-view">Ver</a>
            {% else %}
              —
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

  </div>
</main>

</body>
</html>
